<!DOCTYPE html>
<html lang="en" data-theme="cyberpunk-neon">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptCraft | Professional AI Prompt Studio</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/logo.svg">
</head>
<body>
    <!-- App Container -->
    <div class="app-shell">
        
        <!-- LEFT SIDEBAR - CLEANED UP -->
        <aside class="sidebar" id="sidebar">
            <!-- Brand -->
            <div class="brand">
                <div class="brand-logo">
                    <i class="fas fa-magic"></i>
                </div>
                <div class="brand-text">
                    <h1>PromptCraft</h1>
                    <p>Professional AI Prompt Studio</p>
                </div>
            </div>

            <!-- Navigation - Streamlined -->
            <nav class="nav-sections">
                <!-- Workspace -->
                <div class="nav-group">
                    <div class="nav-label">Workspace</div>
                    <button class="nav-item nav-item-active" id="promptBuilderBtn">
                        <i class="fas fa-wand-magic-sparkles"></i>
                        <span>Prompt Builder</span>
                    </button>
                    <button class="nav-item" id="templatesBtn">
                        <i class="fas fa-layer-group"></i>
                        <span>Templates</span>
                        <span class="nav-pill">12</span>
                    </button>
                    <button class="nav-item" id="historyBtn">
                        <i class="fas fa-clock-rotate-left"></i>
                        <span>History</span>
                        <span class="nav-pill">24</span>
                    </button>
                </div>

                <!-- AI Tools Quick Access -->
                <div class="nav-group">
                    <div class="nav-label">Quick Launch</div>
                    <button class="nav-item" data-tool="chatgpt">
                        <i class="fab fa-openai"></i>
                        <span>ChatGPT</span>
                    </button>
                    <button class="nav-item" data-tool="claude">
                        <i class="fas fa-sparkles"></i>
                        <span>Claude</span>
                    </button>
                    <button class="nav-item" data-tool="gemini">
                        <i class="fas fa-infinity"></i>
                        <span>Gemini</span>
                    </button>
                </div>

                <!-- Quick Stats -->
                <div class="nav-group">
                    <div class="nav-label">Quick Stats</div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value">1,248</div>
                            <div class="stat-label">Prompts</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">89%</div>
                            <div class="stat-label">Accuracy</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">42</div>
                            <div class="stat-label">Saved</div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Sidebar Footer - Minimal -->
            <div class="sidebar-footer">
                <div class="usage-pill" id="usageCount">
                    <i class="fas fa-bolt"></i>
                    <span>0 prompts generated</span>
                </div>
                <!-- Settings Button moved to top bar -->
            </div>
        </aside>

        <!-- MAIN PANEL -->
        <main class="main-panel">
            <!-- TOP BAR with Settings and Theme -->
            <header class="top-bar">
                <div class="top-left">
                    <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="current-theme-display">
                        <i class="fas fa-palette"></i>
                        <span>Cyberpunk Neon</span>
                    </div>
                </div>
                
                <div class="top-center">
                    <div class="header-title">
                        <h2>AI Prompt Studio</h2>
                        <p class="header-subtitle">Transform your ideas into powerful AI prompts</p>
                    </div>
                </div>
                
                <div class="top-right">
                    <!-- Settings Button (fixes broken modal) -->
                    <button class="icon-btn settings-btn" id="settingsBtn" aria-label="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    
                    <!-- Theme Palette Icon (moved from sidebar) -->
                    <button class="icon-btn theme-palette-btn" id="themePaletteBtn" aria-label="Change theme">
                        <i class="fas fa-palette"></i>
                    </button>
                    
                    <!-- Help Button -->
                    <button class="icon-btn help-btn" id="helpBtn" aria-label="Help">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </header>

            <!-- 3-CARD GRID (Fixed for laptop screens) -->
            <div class="cards-grid" id="cardsGrid">
                
                <!-- CARD 1: Your Idea -->
                <div class="step-card" id="cardIdea">
                    <div class="step-header">
                        <div class="step-pill">1</div>
                        <div class="step-header-main">
                            <h3>Describe Your Idea</h3>
                            <p>Type or speak your requirement in any language</p>
                        </div>
                        <button class="card-max-btn" data-maximize-card="cardIdea" aria-label="Maximize card">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>

                    <div class="card-content">
                        <!-- Context Chips Row -->
                        <div class="context-chips-row" id="contextChipsRow"></div>

                        <!-- Text Input with Controls -->
                        <div class="textarea-container">
                            <div class="textarea-header">
                                <label for="requirement" class="textarea-label">
                                    <i class="fas fa-lightbulb"></i>
                                    What do you want to create?
                                </label>
                                <div class="textarea-actions">
                                    <button class="icon-btn voice-btn" id="voiceBtn" aria-label="Voice input">
                                        <i class="fas fa-microphone"></i>
                                    </button>
                                    <button class="icon-btn clear-btn" id="clearRequirementBtn" aria-label="Clear text">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <textarea 
                                id="requirement" 
                                class="textarea-idea" 
                                placeholder="Example: 'Create a professional email about project updates' or 'Generate code for a login form' 
Supports English, Hindi, Hinglish & code"
                                rows="8"
                                aria-label="Describe your idea"
                            ></textarea>
                            
                            <div class="textarea-footer">
                                <div class="input-stats" id="inputStats">0 chars • 0 words</div>
                                <div class="auto-convert-toggle">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="autoConvert" checked>
                                        <span class="toggle-switch-slider"></span>
                                        <span class="toggle-label">Auto-convert as I type</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Preset Selection -->
                        <div class="preset-selection">
                            <div class="preset-header">
                                <label for="presetSelect">
                                    <i class="fas fa-sliders"></i>
                                    Preset Style
                                </label>
                                <label class="lock-preset-toggle">
                                    <input type="checkbox" id="lockPreset">
                                    <span class="lock-label">Lock</span>
                                </label>
                            </div>
                            <select id="presetSelect" class="preset-select">
                                <option value="default">Default</option>
                                <option value="communication">Communication</option>
                                <option value="coding">Coding</option>
                                <option value="writing">Writing</option>
                                <option value="analysis">Analysis</option>
                                <option value="creative">Creative</option>
                            </select>
                        </div>

                        <!-- Convert Button -->
                        <div class="convert-section">
                            <button class="btn btn-primary btn-lg convert-btn" id="convertBtn" disabled>
                                <i class="fas fa-bolt"></i>
                                Convert to AI Prompt
                            </button>
                            <p class="convert-hint">
                                Send to AI tools with one click
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CARD 2: Structured Prompt -->
                <div class="step-card" id="cardPrompt">
                    <div class="step-header">
                        <div class="step-pill">2</div>
                        <div class="step-header-main">
                            <h3>Structured Prompt</h3>
                            <p>AI-ready prompt optimized for best results</p>
                        </div>
                        <div class="step-header-actions">
                            <span class="converted-badge" id="convertedBadge" style="display: none;">
                                <i class="fas fa-check"></i>
                                Converted
                            </span>
                            <button class="card-max-btn" data-maximize-card="cardPrompt" aria-label="Maximize card">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>

                    <div class="card-content">
                        <!-- Output Area -->
                        <div class="output-container">
                            <div class="output-header">
                                <label for="output" class="output-label">
                                    <i class="fas fa-code"></i>
                                    Your AI-ready prompt
                                </label>
                                <div class="output-actions">
                                    <button class="icon-btn copy-btn" id="copyOutputBtn" aria-label="Copy to clipboard">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="icon-btn export-btn" id="exportBtn" aria-label="Export as file">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="icon-btn save-template-btn" id="saveTemplateBtn" aria-label="Save as template">
                                        <i class="fas fa-save"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <textarea 
                                id="output" 
                                class="output-textarea" 
                                placeholder="Your generated prompt will appear here..."
                                rows="10"
                                readonly
                                aria-label="Generated AI prompt"
                            ></textarea>
                            
                            <div class="output-footer">
                                <div class="output-stats" id="outputStats">0 chars • 0 words • 0 lines</div>
                                <div class="output-actions-secondary">
                                    <button class="btn btn-secondary btn-sm" id="regenerateBtn">
                                        <i class="fas fa-sync-alt"></i>
                                        Regenerate
                                    </button>
                                    <button class="btn btn-secondary btn-sm" id="improveBtn">
                                        <i class="fas fa-wand-magic-sparkles"></i>
                                        Improve
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Tool Recommendation -->
                        <div class="tool-recommendation" id="toolRecommendation">
                            <div class="recommendation-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="recommendation-text">
                                <strong>Recommended:</strong>
                                <span id="bestToolRecommendation">Generate a prompt to see recommendations</span>
                            </div>
                        </div>

                        <!-- Launch All Button -->
                        <div class="launch-section">
                            <button class="btn btn-secondary launch-all-btn" id="launchAllBtn" disabled>
                                <i class="fas fa-rocket"></i>
                                Launch All AI Tools
                            </button>
                            <p class="launch-hint">
                                Compatible with ChatGPT, Claude, Gemini & more
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CARD 3: AI Tools - ELEGANT CARDS -->
                <div class="step-card" id="cardTools">
                    <div class="step-header">
                        <div class="step-pill">3</div>
                        <div class="step-header-main">
                            <h3>AI Tools</h3>
                            <p>Launch your favorite AI tools with one click</p>
                        </div>
                        <div class="step-header-actions">
                            <button class="icon-btn refresh-btn" id="refreshToolsBtn" aria-label="Refresh tools">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>

                    <div class="card-content">
                        <!-- AI Tools Grid with Elegant Cards -->
                        <div class="ai-tools-grid" id="aiToolsGrid">
                            <!-- Dynamic content from ai-tools.js -->
                            <!-- Each AI tool will be rendered as an elegant card -->
                        </div>

                        <!-- Best Match Highlight -->
                        <div class="best-match-notice" id="bestMatchNotice">
                            <i class="fas fa-star"></i>
                            <span>The <strong>Best Match</strong> tool is highlighted based on your prompt content</span>
                        </div>

                        <!-- Tools Filter -->
                        <div class="tools-filter">
                            <div class="filter-buttons">
                                <button class="filter-btn active" data-filter="all">All Tools</button>
                                <button class="filter-btn" data-filter="image">Image AI</button>
                                <button class="filter-btn" data-filter="text">Text AI</button>
                                <button class="filter-btn" data-filter="popular">Popular</button>
                            </div>
                            <div class="filter-search">
                                <input type="text" id="toolsSearch" placeholder="Search tools..." aria-label="Search AI tools">
                                <i class="fas fa-search"></i>
                            </div>
                        </div>

                        <!-- Tools Stats -->
                        <div class="tools-stats">
                            <div class="stat-chip">
                                <i class="fas fa-robot"></i>
                                <span id="totalToolsCount">10</span> Tools
                            </div>
                            <div class="stat-chip">
                                <i class="fas fa-image"></i>
                                <span id="imageToolsCount">3</span> Image AI
                            </div>
                            <div class="stat-chip">
                                <i class="fas fa-font"></i>
                                <span id="textToolsCount">7</span> Text AI
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="main-footer">
                <div class="footer-content">
                    <div class="footer-left">
                        <p class="footer-text">
                            <i class="fas fa-code"></i>
                            PromptCraft v2.0.0
                        </p>
                    </div>
                    <div class="footer-center">
                        <p class="footer-text">
                            <i class="fas fa-clock"></i>
                            <span id="currentTime">06:52 PM</span>
                            <span id="currentDate">13-12-2025</span>
                        </p>
                    </div>
                    <div class="footer-right">
                        <p class="footer-text">
                            <i class="fas fa-heart"></i>
                            Crafted with passion for AI enthusiasts
                        </p>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- MODALS -->
    
    <!-- Settings Modal (Fixed - will show content) -->
    <div class="modal modal-lg" id="settingsModal">
        <div class="modal-header">
            <h3><i class="fas fa-cog"></i> Settings</h3>
            <button class="modal-close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <!-- Settings content will be loaded by settings-manager.js -->
            <div class="settings-loading">
                <div class="loading-spinner"></div>
                <p>Loading settings...</p>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" data-action="close">Cancel</button>
            <button class="btn btn-primary" id="saveSettingsBtn">Save Changes</button>
        </div>
    </div>

    <!-- Templates Modal -->
    <div class="modal modal-lg" id="templatesModal">
        <div class="modal-header">
            <h3><i class="fas fa-layer-group"></i> Templates</h3>
            <button class="modal-close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="templates-grid" id="templatesGrid">
                <!-- Templates loaded by templates.js -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" data-action="close">Close</button>
            <button class="btn btn-primary" id="createTemplateBtn">Create New Template</button>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal modal-lg" id="historyModal">
        <div class="modal-header">
            <h3><i class="fas fa-clock-rotate-left"></i> History</h3>
            <button class="modal-close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="history-list" id="historyList">
                <!-- History loaded by history.js -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" data-action="close">Close</button>
            <button class="btn btn-danger" id="clearHistoryBtn">Clear All History</button>
        </div>
    </div>

    <!-- Theme Selector Modal -->
    <div class="modal modal-md" id="themeModal">
        <div class="modal-header">
            <h3><i class="fas fa-palette"></i> Select Theme</h3>
            <button class="modal-close" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <div class="theme-grid" id="themeGrid">
                <!-- Themes loaded by theme-manager.js -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" data-action="close">Cancel</button>
            <button class="btn btn-primary" id="applyThemeBtn">Apply Theme</button>
        </div>
    </div>

    <!-- Card Maximize Backdrop -->
    <div class="card-max-backdrop" id="cardMaxBackdrop"></div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- JavaScript Files -->
    <script type="module" src="js/app.js"></script>
    
    <!-- Service Worker (optional) -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(console.error);
        }
    </script>
</body>
</html>
