<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Enterprise AI Prompt Assistant - Transform ideas into perfect AI prompts instantly">
    <title>PromptCraft Pro | Enterprise AI Prompt Assistant</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Add this in your existing style block -->
    <style>
        /* Add to your existing styles */
        .intent-chips-container {
            margin-top: 1rem;
            display: none;
        }
        
        .intent-chips-scroll {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            max-height: 100px;
            overflow-y: auto;
            padding: 0.5rem;
            background: var(--card-bg-alt);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }
        
        .intent-chip {
            background: var(--primary-50);
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid var(--primary-light);
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .dark-theme .intent-chip {
            background: rgba(79, 70, 229, 0.2);
        }
        
        .preset-selector {
            margin: 1rem 0;
            display: none;
        }
        
        .preset-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        
        .preset-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .preset-btn {
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .preset-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .preset-btn:hover:not(.active) {
            border-color: var(--primary-light);
            color: var(--primary);
        }
        
        .template-library {
            margin-top: 1.5rem;
            display: none;
        }
        
        .template-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .template-category-btn {
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            font-size: 0.875rem;
            cursor: pointer;
        }
        
        .template-category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .template-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .template-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .template-card h4 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
        }
        
        .template-card p {
            margin: 0;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        /* Progress steps for intent detection */
        .intent-progress {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }
        
        .intent-progress i {
            color: var(--primary);
        }
        
        /* AI Platform ranking indicators */
        .platform-ranking {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            background: var(--success);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.625rem;
            font-weight: bold;
        }
        
        .platform-card.recommended {
            border-color: var(--success);
            position: relative;
        }
        
        .platform-card.recommended::before {
            content: '✨';
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 1.25rem;
            z-index: 2;
        }
    </style>
</head>
<body class="dark-theme">
    <!-- Header (keep as-is) -->
    <header class="app-header">
        <!-- ... your existing header content ... -->
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="app-container">
            <!-- Step 1: Input -->
            <div class="input-section">
                <div class="card">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div>
                            <div class="step-title">Describe Your Task</div>
                            <div class="step-subtitle">Provide detailed context for optimal AI prompt generation</div>
                        </div>
                    </div>
                    
                    <div class="input-label">What would you like the AI to help you with?</div>
                    
                    <div class="textarea-container">
                        <div class="char-counter" id="charCounter">0/5000</div>
                        
                        <div class="textarea-top-right-controls">
                            <button id="maximizeInputBtn" class="action-btn" title="Maximize Editor">
                                <i class="fas fa-expand"></i>
                                <span class="action-btn-tooltip">Maximize</span>
                            </button>
                        </div>
                        
                        <textarea 
                            id="userInput"
                            class="textarea"
                            placeholder="Example: Create a comprehensive project proposal for implementing an AI-powered customer service chatbot that reduces response time by 40% while maintaining customer satisfaction scores..."
                            rows="5"
                        ></textarea>
                        
                        <div class="textarea-controls">
                            <div class="left-controls">
                                <button id="micBtn" class="action-btn" title="Voice Input">
                                    <i class="fas fa-microphone"></i>
                                    <span class="action-btn-tooltip">Voice Input</span>
                                </button>
                            </div>
                            <div class="right-controls">
                                <button id="undoBtn" class="undo-btn" title="Undo Last Change">
                                    <i class="fas fa-undo"></i>
                                    <span class="action-btn-tooltip">Undo</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Intent Detection Chips -->
                    <div class="intent-chips-container" id="intentChips">
                        <div class="intent-chips-scroll" id="intentChipsScroll"></div>
                        <div class="intent-progress" id="intentProgress">
                            <i class="fas fa-brain"></i>
                            <span>Analyzing intent...</span>
                        </div>
                    </div>
                    
                    <!-- Preset Selector -->
                    <div class="preset-selector" id="presetSelector">
                        <div class="preset-title">Prompt Style:</div>
                        <div class="preset-options">
                            <button class="preset-btn active" data-preset="default">Default</button>
                            <button class="preset-btn" data-preset="claude">Claude</button>
                            <button class="preset-btn" data-preset="chatgpt">ChatGPT</button>
                            <button class="preset-btn" data-preset="detailed">Detailed</button>
                            <button class="preset-btn" data-preset="custom">Custom</button>
                        </div>
                    </div>
                    
                    <!-- Need Inspiration Button -->
                    <div class="inspiration-container">
                        <button id="needInspirationBtn" class="need-inspiration-btn">
                            <i class="fas fa-lightbulb"></i>
                        </button>
                        
                        <div class="inspiration-panel" id="inspirationPanel">
                            <div class="inspiration-header">
                                <div class="inspiration-title">
                                    <i class="fas fa-lightbulb"></i>
                                    Inspiration Templates
                                </div>
                                <button class="close-inspiration-btn" id="closeInspirationBtn" title="Close">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="inspiration-grid">
                                <!-- Templates will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Template Library (collapsed by default) -->
                    <div class="template-library" id="templateLibrary">
                        <div class="inspiration-header">
                            <div class="inspiration-title">
                                <i class="fas fa-layer-group"></i>
                                Template Library
                            </div>
                            <button class="close-inspiration-btn" id="closeTemplateBtn" title="Close">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="template-categories" id="templateCategories">
                            <button class="template-category-btn active" data-category="all">All</button>
                            <!-- Categories will be loaded dynamically -->
                        </div>
                        <div class="templates-grid" id="templatesGrid">
                            <!-- Templates will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Steps 2 & 3: Output and AI Platforms -->
            <div class="output-section" id="outputSection">
                <!-- Step 2: Generated Prompt -->
                <div class="card" id="outputCard">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div>
                            <div class="step-title">Generated Prompt</div>
                            <div class="step-subtitle">Optimized for maximum AI performance and clarity</div>
                        </div>
                    </div>
                    
                    <div class="output-container">
                        <div class="output-actions">
                            <button id="speakBtn" class="action-btn" title="Listen to Prompt">
                                <i class="fas fa-volume-up"></i>
                                <span class="action-btn-tooltip">Listen</span>
                            </button>
                            <button id="copyBtn" class="action-btn" title="Copy Prompt">
                                <i class="fas fa-copy"></i>
                                <span class="action-btn-tooltip">Copy</span>
                            </button>
                            <button id="exportBtn" class="action-btn" title="Export Prompt">
                                <i class="fas fa-download"></i>
                                <span class="action-btn-tooltip">Export</span>
                            </button>
                            <button id="maximizeOutputBtn" class="action-btn" title="Maximize Editor">
                                <i class="fas fa-expand"></i>
                                <span class="action-btn-tooltip">Maximize</span>
                            </button>
                        </div>
                        
                        <button id="savePromptBtn" class="save-btn">
                            <i class="fas fa-save"></i>
                            Save
                        </button>
                        
                        <div 
                            id="outputArea" 
                            class="output-area" 
                            contenteditable="true"
                            data-placeholder="Your optimized prompt will appear here. Describe your task in Step 1 and click 'Prepare Prompt' to generate."
                        ></div>
                    </div>
                    
                    <div class="suggestions-panel" id="suggestionsPanel">
                        <h4 style="margin-bottom: var(--spacing-sm); color: var(--text-primary); font-size: var(--font-size-sm);">
                            <i class="fas fa-bolt"></i> Optimization Suggestions
                        </h4>
                        <div id="suggestionsList"></div>
                    </div>
                </div>

                <!-- Step 3: AI Platforms Sidebar -->
                <div class="platforms-sidebar">
                    <div class="card" id="aiCard">
                        <div class="step-header">
                            <div class="step-number">3</div>
                            <div>
                                <div class="step-title">Deploy to AI</div>
                                <div class="step-subtitle">Smart-ranked based on your task</div>
                            </div>
                        </div>
                        
                        <div class="platforms-header">
                            <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">
                                <i class="fas fa-sort-amount-down"></i> Ranked by suitability for your task
                            </p>
                        </div>
                        
                        <div id="platformsGrid" class="platforms-grid">
                            <div class="empty-state" id="platformsEmptyState">
                                <div class="empty-state-icon">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <p>Generate a prompt first to see AI platform options</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Prompt History Section -->
            <div class="history-section" id="historySection">
                <div class="card">
                    <div class="history-header">
                        <div class="step-header">
                            <div class="step-number">
                                <i class="fas fa-history"></i>
                            </div>
                            <div>
                                <div class="step-title">Prompt History</div>
                                <div class="step-subtitle">Recently generated and saved prompts</div>
                            </div>
                        </div>
                        <button class="history-close-btn" id="closeHistoryBtn" title="Close History">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="history-list" id="historyList"></div>
                </div>
            </div>
        </div>

        <!-- Sticky CTA Buttons -->
        <div class="sticky-cta-container">
            <button id="stickyPrepareBtn" class="sticky-cta prepare">
                <i class="fas fa-magic cta-icon"></i>
                <span>Prepare Prompt</span>
            </button>
        </div>
        
        <button id="stickyResetBtn" class="sticky-cta reset hidden">
            <i class="fas fa-redo cta-icon"></i>
            <span>Reset</span>
        </button>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <div class="footer-item">
                        <span class="status-indicator"></span>
                        <span>Status: <strong>Online</strong></span>
                    </div>
                    <div class="footer-item">
                        <i class="fas fa-robot"></i>
                        <span>AI Model: <strong id="currentModel">Google Gemini</strong></span>
                    </div>
                    <div class="footer-item">
                        <i class="fas fa-palette"></i>
                        <span>Theme: <strong id="currentTheme">Dark</strong></span>
                    </div>
                    <div class="footer-item">
                        <i class="fas fa-language"></i>
                        <span>Language: <strong id="currentLanguage">English</strong></span>
                    </div>
                </div>
                <div class="footer-copyright">
                    <p>© 2024 PromptCraft Pro. Enterprise AI Prompt Assistant v2.0</p>
                    <p>Optimizing AI interactions for professional workflows</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-overlay">
        <!-- ... keep your existing settings modal ... -->
    </div>

    <!-- Full Screen Editor -->
    <div id="fullScreenEditor" class="full-screen-editor">
        <!-- ... keep your existing full screen editor ... -->
    </div>

    <!-- Notifications Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- JavaScript Modules -->
    <script src="js/utils/constants.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/debounce.js"></script>
    
    <script src="js/services/storage-service.js"></script>
    <script src="js/services/api-service.js"></script>
    <script src="js/services/notification-service.js"></script>
    <script src="js/services/settings-service.js"></script>
    
    <script src="js/modules/intent-detector.js"></script>
    <script src="js/modules/prompt-generator.js"></script>
    <script src="js/modules/ai-ranker.js"></script>
    <script src="js/modules/voice-manager.js"></script>
    <script src="js/modules/template-manager.js"></script>
    <script src="js/modules/history-manager.js"></script>
    <script src="js/modules/theme-manager.js"></script>
    
    <script src="js/core/state.js"></script>
    <script src="js/core/app.js"></script>
</body>
</html>
