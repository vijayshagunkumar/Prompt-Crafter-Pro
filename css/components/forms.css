/* =========================================
   FORMS & TEXTAREAS (FINAL – RESIZE ENABLED)
   ========================================= */

.textarea-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
}

/* ---------- TEXTAREAS ---------- */
.textarea-idea,
.output-textarea {
  width: 100%;
  min-height: 160px;
  max-height: 800px;               /* ✅ allows drag resize */
  resize: vertical;                /* ✅ drag resize restored */
  overflow: auto;

  background: var(--input-bg);
  border: 1px solid var(--input-border);
  border-radius: 8px;

  padding: 14px 14px 48px 14px;     /* space for buttons */
  font-family: 'Inter', sans-serif;
  font-size: 0.95rem;
  line-height: 1.5;
  color: var(--text-primary);

  transition: border 0.2s ease, box-shadow 0.2s ease;
}

.textarea-idea:focus,
.output-textarea:focus {
  border-color: var(--input-border-focus);
  box-shadow: var(--input-shadow-focus);
  outline: none;
}

/* ---------- PLACEHOLDER ---------- */
.textarea-idea::placeholder,
.output-textarea::placeholder {
  color: rgba(255,255,255,0.45);
  opacity: 1;
}

/* ---------- SELECTION ---------- */
.textarea-idea::selection,
.output-textarea::selection {
  background: rgba(255, 106, 26, 0.35);
  color: #fff;
}

/* ---------- TEXTAREA BUTTONS ---------- */
.textarea-buttons {
  position: absolute;
  bottom: 10px;
  left: 10px;
  right: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  pointer-events: none;
}

.textarea-buttons button {
  pointer-events: auto;
}

/* ---------- EXPAND BUTTON ---------- */
.expand-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: 1px solid var(--border-subtle);
  background: rgba(255,94,0,0.12);
  color: var(--primary);
  cursor: pointer;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 20;
}

.expand-btn:hover {
  background: rgba(255,94,0,0.25);
}

/* ---------- FULLSCREEN MODE ---------- */
.textarea-expanded {
  position: fixed !important;
  inset: 40px !important;
  width: auto !important;
  height: auto !important;
  max-height: none !important;
  z-index: 1000 !important;

  background: var(--panel-bg) !important;
  border: 2px solid var(--primary) !important;
  padding: 20px !important;
  resize: none !important;
  font-size: 1rem !important;
}

/* ---------- OVERLAY ---------- */
.expand-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(4px);
  z-index: 999;
  display: none;
}

/* ---------- MODE / CHIP COLOR ---------- */
.badge,
.chip,
.preset-badge,
.mode-pill {
  color: rgba(255,170,90,0.95);
  background: rgba(255,106,26,0.12);
  border: 1px solid rgba(255,106,26,0.35);
  font-weight: 600;
}
